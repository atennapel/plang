:get (!Get ())
:set !Set
:flip (!Flip ())

:program (
	^x get
	^_ (set 10)
	^y get
	ret (add x y)
)

:pair (\xy {fst x snd y})

:programf (
	^b flip
	^c flip
	ret (pair b c)
)

:alwaysTrue (handle {
	Flip (\v_k k 1 ())
} ())
:rand (!Random ())
:flipRandom (handle {
	Flip (\v_k (^r rand (k r ())))
} ())

(.fst $ pure $ handleRandom $ flipRandom programf)
